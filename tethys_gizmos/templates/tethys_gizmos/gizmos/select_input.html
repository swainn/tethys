{% if not original %}
  {% load static tethys_gizmos %}
{% endif %}
<div id="form-group-{{ name }}" class="form-group {% if error %} has-error {% endif %}">
  {% if display_text %}<label class="control-label" for="{{ name }}">{{ display_text }}</label>{% endif %}
  <select id="{{ name }}" class="{% if not original %}tethys-select2{% else %}form-control{% endif %}{% if classes %} {{ classes }}{% endif %}"
    name="{{ name }}" {% if not original %}style="width:100%;"{% endif %}
    {% if multiple %}multiple{% endif %} {% if disabled %}disabled{% endif %}
    {% if attributes %}
        {% for key, value in attributes.items %}
            {{ key }}="{{ value }}"
        {% endfor %}
    {% endif %}
    {% if select2_options %}
      data-select2-options="{{ select2_options }}"
    {% endif %}>
    {% if placeholder %}
        <option></option>
    {% endif %}
    {% for option, value in options %}
      {% if initial_is_iterable %}
        {% if option in initial or value in initial %}
        <option value="{{value}}" selected="selected">{{ option }}</option>
        {% else %}
        <option value="{{value}}">{{ option }}</option>
        {% endif %}
      {% else %}
        {% if option == initial or value == initial %}
        <option value="{{value}}" selected="selected">{{ option }}</option>
        {% else %}
        <option value="{{value}}">{{ option }}</option>
        {% endif %}
      {% endif %}
    {% endfor %}
  </select>
  {% if error %}
  <p class="help-block">{{ error }}</p>
  {% endif %}
</div>
