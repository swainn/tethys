

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configuring Apps &mdash; Tethys Platform 0.1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Tethys Platform 0.1.0 documentation" href="../index.html"/>
        <link rel="up" title="Getting Started" href="../getting_started.html"/>
        <link rel="next" title="Distributing Apps" href="distribution.html"/>
        <link rel="prev" title="Working with Form Data" href="forms.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> Tethys Platform</a>
        
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../features.html">Tethys Platform</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../features.html#develop-web-apps">Develop Web Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#python-software-development-kit">Python Software Development Kit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#templating-and-gizmos">Templating and Gizmos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#spatial-data">Spatial Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#data-store">Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#computing">Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#developer-tools">Developer Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#production-ready">Production Ready</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#install-the-dependencies">1. Install the Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#install-advanced-dependencies">2. Install Advanced Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#create-virtual-environment-and-install-tethys-platform">3. Create Virtual Environment and Install Tethys Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#create-database-and-database-users">4. Create Database and Database Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#create-settings-file-and-configure-settings">5. Create Settings File and Configure Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#create-database-tables">6. Create Database Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#start-up-the-django-development-server">7. Start up the Django Development Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#what-s-next">What&#8217;s Next?</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../getting_started.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="scaffold.html">Create a New Tethys App Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html">The Model and Persistent Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="view.html">The View and Templating</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller.html">Working with the Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="url_mapping.html">URL Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="forms.html">Working with Form Data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Configuring Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="distribution.html">Distributing Apps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tethys_api.html">Tethys Software Development Kit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tethys_api/dataset_services.html">Dataset Services API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tethys_api/persistent_store.html">Persistent Stores API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tethys_api/spatial_publishing.html">Spatial Data Publishing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tethys_api/geoprocessing.html">Geoprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tethys_api/visualizing.html">Data Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tethys_api/cloud_computing.html">High Performance Computing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Summary of References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Tethys Platform</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../getting_started.html">Getting Started</a> &raquo;</li>
      
    <li>Configuring Apps</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/getting_started/configuration.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="configuring-apps">
<h1>Configuring Apps<a class="headerlink" href="#configuring-apps" title="Permalink to this headline">Â¶</a></h1>
<p><strong>Last Updated:</strong> May 21, 2014</p>
<p>A Tethys App is an extension of the CKAN webpage. The Tethys Apps plugin uses the <a class="reference internal" href="../glossary.html#term-app-configuration-file"><em class="xref std std-term">app configuration file</em></a> (<tt class="file docutils literal"><span class="pre">app.py</span></tt>) file to configure your app and link it to CKAN. Within the <a class="reference internal" href="../glossary.html#term-app-configuration-file"><em class="xref std std-term">app configuration file</em></a> you will find an <a class="reference internal" href="../glossary.html#term-app-class"><em class="xref std std-term">app class</em></a>. The <a class="reference internal" href="../glossary.html#term-app-class"><em class="xref std std-term">app class</em></a> inherits from the <tt class="docutils literal"><span class="pre">AppBase</span></tt> class that is provided by the Tethys Apps plugin. If you have generated your <a class="reference internal" href="../glossary.html#term-app-package"><em class="xref std std-term">app package</em></a> from the scaffold, your app class name will reflect the name of your app. The <a class="reference internal" href="../glossary.html#term-app-class"><em class="xref std std-term">app class</em></a> implements methods from <tt class="docutils literal"><span class="pre">AppBase</span></tt> that are used to make CKAN aware of the controllers, templates, resources, and other identifying characteristics that your app needs to run. There are six methods that you need to implement in your App class:</p>
<ul class="simple">
<li>registerApp()</li>
<li>registerControllers()</li>
<li>registerTemplateDirectories()</li>
<li>registerPublicDirectories()</li>
<li>registerResources()</li>
<li>registerPersistentStores()</li>
</ul>
<p>Each of these methods accept one argument. During app harvesting, the <tt class="docutils literal"><span class="pre">SingletonAppHarvester</span></tt> object will call each of these methods and and passes <strong>itself</strong> in as the argument. Your method should call the appropriate <tt class="docutils literal"><span class="pre">SingletonAppHarvester</span></tt> method on the instance that is passed into the method. A short description of each method and an example is provided with our app called &#8220;my_first_app&#8221;.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is required that your <a class="reference internal" href="../glossary.html#term-app-configuration-file"><em class="xref std std-term">app configuration file</em></a> is located in the <a class="reference internal" href="../glossary.html#term-app-package"><em class="xref std std-term">app package</em></a> directory as depicted in Figure 1 on the <a class="reference internal" href="../app_project.html"><em>App Project Structure</em></a> page. It is also required that the name of the file is &#8220;app.py&#8221;.</p>
</div>
<div class="section" id="registerapp">
<h2>registerApp<a class="headerlink" href="#registerapp" title="Permalink to this headline">Â¶</a></h2>
<p>This method is used to provide identifying information about your app to CKAN. The appropriate <tt class="docutils literal"><span class="pre">SingletonAppHarvester</span></tt> method to call is <tt class="docutils literal"><span class="pre">addApp()</span></tt>. This method should be called only once.</p>
<p><em>addApp(name, index, icon)</em></p>
<ul class="simple">
<li><em>name</em> = the name displayed on the app icon on the <em class="guilabel">Apps</em> library page of CKAN.</li>
<li><em>index</em> = the name of the app index controller for your app (as defined by the <tt class="docutils literal"><span class="pre">registerControllers()</span></tt> method).</li>
<li><em>icon</em> = the path to the image that will be used as your app icon.</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">registerApp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Register the app</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">app</span><span class="o">.</span><span class="n">addApp</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;My First App&#39;</span><span class="p">,</span>
               <span class="n">index</span><span class="o">=</span><span class="s">&#39;my-first-app&#39;</span><span class="p">,</span>
               <span class="n">icon</span><span class="o">=</span><span class="s">&#39;my_first_app/images/icon.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Notice that the path to the image is relative to a directory with the same name as your app inside the <tt class="file docutils literal"><span class="pre">public</span></tt> directory. This convention is used to prevent conflicts with other apps. Also notice that <tt class="docutils literal"><span class="pre">registerApp()</span></tt> takes one argument called &#8220;app&#8221;. The name of the argument is more of a reminder of what needs to be done. In reality, an instance of the <tt class="docutils literal"><span class="pre">SingletonAppHarvester</span></tt> is passed into <strong>every</strong> method as the argument. Thus, <tt class="docutils literal"><span class="pre">addApp()</span></tt> is method of the <tt class="docutils literal"><span class="pre">SingeltonAppHarvester</span></tt> instance, as are all of the methods that are called on the arguments of the register methods.</p>
</div>
</div>
<div class="section" id="registercontrollers">
<h2>registerControllers<a class="headerlink" href="#registercontrollers" title="Permalink to this headline">Â¶</a></h2>
<p>This method is used to register the controllers of an app. The appropriate <tt class="docutils literal"><span class="pre">SingletonAppHarvester</span></tt> method to call on the argument is <tt class="docutils literal"><span class="pre">addController()</span></tt>. This method may be called multiple times, once for each controller that is being registered.</p>
<p><em>addController(name, url, controller, action)</em></p>
<ul class="simple">
<li><em>name</em> = the name of the controller</li>
<li><em>url</em> = the url pattern that is mapped to the controller</li>
<li><em>controller</em> = path to the controller class (use dot notation)</li>
<li><em>action</em> = the action to call on the controller for this url pattern</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">registerControllers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">controllers</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Add controllers</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">controllers</span><span class="o">.</span><span class="n">addController</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;my-first-app-index&#39;</span><span class="p">,</span>
                              <span class="n">url</span><span class="o">=</span><span class="s">&#39;my-first-app&#39;</span><span class="p">,</span>
                              <span class="n">controller</span><span class="o">=</span><span class="s">&#39;my_first_app.controllers.index:RootController&#39;</span><span class="p">,</span>
                              <span class="n">action</span><span class="o">=</span><span class="s">&#39;index&#39;</span><span class="p">)</span>

    <span class="n">controllers</span><span class="o">.</span><span class="n">addController</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;my-first-app-action&#39;</span><span class="p">,</span>
                              <span class="n">url</span><span class="o">=</span><span class="s">&#39;my-first-app/{action}&#39;</span><span class="p">,</span>
                              <span class="n">controller</span><span class="o">=</span><span class="s">&#39;my_first_app.controllers.index:RootController&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In the example above, two contollers are being registered: one named &#8220;my-first-app-index&#8221; and another named &#8220;my-first-app-action&#8221;. In the first controller, the action is specified while in the second controller the action is part of the url (denoted by the <tt class="docutils literal"><span class="pre">{action}</span></tt> variable).</p>
</div>
<div class="section" id="registertemplatedirectories">
<h2>registerTemplateDirectories<a class="headerlink" href="#registertemplatedirectories" title="Permalink to this headline">Â¶</a></h2>
<p>This method is used to tell the Tethys Apps plugin where your templates will be located. The appropriate <tt class="docutils literal"><span class="pre">SingletonAppHarvester</span></tt> method to call is <tt class="docutils literal"><span class="pre">addTemplateDirectory()</span></tt>. Call this method only once.</p>
<p><em>addTemplateDirectory(directory)</em></p>
<ul class="simple">
<li><em>directory</em> = path to the directory where your templates are located.</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">registerTemplateDirectories</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">templateDirs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Add template directories</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">templateDirs</span><span class="o">.</span><span class="n">addTemplateDirectory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="s">&#39;my_first_app/templates&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="registerpublicdirectories">
<h2>registerPublicDirectories<a class="headerlink" href="#registerpublicdirectories" title="Permalink to this headline">Â¶</a></h2>
<p>This method is used to tell the Tethys Apps plugin where your publicly accessible resources will be stored. These include resources such as images or static documents that need to be accessible to the user. The appropriate <tt class="docutils literal"><span class="pre">SingletonAppHarvester</span></tt> method to call is <tt class="docutils literal"><span class="pre">addPublicDirectory()</span></tt>. This method can be called multiple times to register multiple public directories.</p>
<p><em>addPublicDirectory(directory)</em></p>
<ul class="simple">
<li><em>directory</em> = path to the directory where your public resources are located.</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">registerPublicDirectories</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">publicDirs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Add public directories</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">publicDirs</span><span class="o">.</span><span class="n">addPublicDirectory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="s">&#39;my_first_app/public&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Resources that are located in any of the public directories are made publicly accessible. Take care what you store in your public directories.</p>
</div>
</div>
<div class="section" id="registerresources">
<h2>registerResources<a class="headerlink" href="#registerresources" title="Permalink to this headline">Â¶</a></h2>
<p>This method is used to tell the Tethys Apps plugin where your resources will be stored. Resources are served by Fanstatic. Resources that need to be registered are JavaScript and CSS files. The directories that contain these files also need to be registered as public directories (see <em>addPublicDirectories()</em> method). The appropriate <tt class="docutils literal"><span class="pre">SingletonAppHarvester</span></tt> method to call is <tt class="docutils literal"><span class="pre">addResource()</span></tt>:</p>
<p><em>addResource(directory, name)</em></p>
<ul class="simple">
<li><em>directory</em> = path to the directory where your resources are located.</li>
<li><em>name</em> = name of resource that is used when accessing resources</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">registerResources</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">staticDirs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Add static directories</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">staticDirs</span><span class="o">.</span><span class="n">addResource</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="s">&#39;myapp/public/myapp&#39;</span><span class="p">,</span>
                           <span class="n">name</span><span class="o">=</span><span class="s">&#39;ckanapp_my_first_app&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="registerpersistentstores">
<h2>registerPersistentStores<a class="headerlink" href="#registerpersistentstores" title="Permalink to this headline">Â¶</a></h2>
<p>This method is used to request persistent stores (databases) for your app. These databases are created automatically when the app is installed. In addition, you can have Tethys Apps automatically run an database initialization script to create the tables for your database when the app is installed. You may request as many of these databases as you need. Unlike the other register methods, the argument that is passed to this method is not an instance of the <tt class="docutils literal"><span class="pre">SingletonAppHarvester</span></tt> class. Instead, an instance of the <tt class="docutils literal"><span class="pre">PersistentStoreHarvester</span></tt> is given. There are two <tt class="docutils literal"><span class="pre">PersistentStoreHarvester</span></tt> methods that can be called in this method: <tt class="docutils literal"><span class="pre">addPersistentStore()</span></tt> and <tt class="docutils literal"><span class="pre">addInitializationScript</span></tt>.</p>
<p><em>addPersistentStore(store_name)</em></p>
<ul class="simple">
<li><em>store_name</em> =  a unique name for your persisent store. This name is used to connect to the store later.</li>
</ul>
<p><em>addInitializationScript(script_path)</em></p>
<ul class="simple">
<li><em>script_path</em> = the path to your database initialization script (use dot notation)</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">registerPersistentStores</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">persistentStores</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Add one or more persistent stores</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">persistentStores</span><span class="o">.</span><span class="n">addPersistentStore</span><span class="p">(</span><span class="s">&#39;demo_store&#39;</span><span class="p">)</span>
    <span class="n">persistentStores</span><span class="o">.</span><span class="n">addInitializationScript</span><span class="p">(</span><span class="s">&#39;my_first_app.lib.init_db&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about working with persistent stores, see the <tt class="xref doc docutils literal"><span class="pre">./persistent_stores</span></tt> section.</p>
</div>
<div class="section" id="example-file">
<h2>Example File<a class="headerlink" href="#example-file" title="Permalink to this headline">Â¶</a></h2>
<p>If you open the <a class="reference internal" href="../glossary.html#term-app-configuration-file"><em class="xref std std-term">app configuration file</em></a> for your app project, you will find a file similar to this one:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">ckanext.tethys_apps.lib.app_base</span> <span class="kn">import</span> <span class="n">AppBase</span>

<span class="k">class</span> <span class="nc">MyFirstAppApp</span><span class="p">(</span><span class="n">AppBase</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Example implementation of an app (this is the initializer for the app)</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">registerApp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Register the app</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">app</span><span class="o">.</span><span class="n">addApp</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;My First App&#39;</span><span class="p">,</span>
                   <span class="n">index</span><span class="o">=</span><span class="s">&#39;my_first_app&#39;</span><span class="p">,</span>
                   <span class="n">icon</span><span class="o">=</span><span class="s">&#39;my_first_app/images/icon.gif&#39;</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">registerControllers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">controllers</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Add controllers</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">controllers</span><span class="o">.</span><span class="n">addController</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;my_first_app&#39;</span><span class="p">,</span>
                                  <span class="n">url</span><span class="o">=</span><span class="s">&#39;my-first-app&#39;</span><span class="p">,</span>
                                  <span class="n">controller</span><span class="o">=</span><span class="s">&#39;my_first_app.controllers.index:MyFirstAppController&#39;</span><span class="p">,</span>
                                  <span class="n">action</span><span class="o">=</span><span class="s">&#39;index&#39;</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">registerTemplateDirectories</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">templateDirs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Add template directories</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">templateDirs</span><span class="o">.</span><span class="n">addTemplateDirectory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="s">&#39;my_first_app/templates&#39;</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">registerPublicDirectories</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">publicDirs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Add public directories</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">publicDirs</span><span class="o">.</span><span class="n">addPublicDirectory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="s">&#39;my_first_app/public&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">registerResources</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">staticDirs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Add static directories</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">staticDirs</span><span class="o">.</span><span class="n">addResource</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="s">&#39;my_first_app/public/my_first_app&#39;</span><span class="p">,</span>
                               <span class="n">name</span><span class="o">=</span><span class="s">&#39;ckanapp_my_first_app&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">registerPersistentStores</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">persistentStores</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Add one or more persistent stores</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">persistentStores</span><span class="o">.</span><span class="n">addPersistentStore</span><span class="p">(</span><span class="s">&#39;demo_store&#39;</span><span class="p">)</span>
        <span class="n">persistentStores</span><span class="o">.</span><span class="n">addInitializationScript</span><span class="p">(</span><span class="s">&#39;my_first_app.lib.init_db&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="distribution.html" class="btn btn-neutral float-right" title="Distributing Apps">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="forms.html" class="btn btn-neutral" title="Working with Form Data"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Nathan Swain.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>